# ===============================================================
# TransformaciÃ³n paso a paso de una variable normal simulada
#
# Variables involucradas:
#   z            â†’ Variable aleatoria con distribuciÃ³n normal estÃ¡ndar ğ’©(0,1),
#                  generada con la funciÃ³n `normal()` de Gretl.
#   z_centrada   â†’ VersiÃ³n de `z` con media exactamente cero (Î¼ = 0):
#                  z_centrada = z âˆ’ Î¼_z
#   z_esc        â†’ Variable estandarizada con Î¼ = 0 y Ïƒ = 1 exactos:
#                  z_esc = z_centrada / Ïƒ_z
#   x_sim        â†’ Variable final transformada con Î¼ = 20 y Ïƒ = 15 exactos:
#                  x_sim = 20 + 15Â·z_esc
# ===============================================================

scalar N = 100
nulldata N
setobs 1 1 --time-series

series z          = normal()
series z_centrada = z - mean(z)
series z_esc      = z_centrada / sd(z_centrada)
series x_sim      = 20 + 15 * z_esc

# VerificaciÃ³n de momentos de x_sim
summary x_sim

# Tabla comparativa de momentos: media (Î¼), desviaciÃ³n estÃ¡ndar (Ïƒ), asimetrÃ­a (Î³â‚), curtosis (Î³â‚‚)
printf "\n%-15s %8s %8s %10s %10s\n", "Variable", "Î¼", "Ïƒ", "Î³â‚ (Asim.)", "Î³â‚‚ (Curt.)"
printf "%-15s %8.4f %8.4f %10.4f %10.4f\n", "z",          mean(z),          sd(z),          skewness(z),          kurtosis(z)
printf "%-15s %8.4f %8.4f %10.4f %10.4f\n", "z_centrada", mean(z_centrada), sd(z_centrada), skewness(z_centrada), kurtosis(z_centrada)
printf "%-15s %8.4f %8.4f %10.4f %10.4f\n", "z_esc",      mean(z_esc),      sd(z_esc),      skewness(z_esc),      kurtosis(z_esc)
printf "%-15s %8.4f %8.4f %10.4f %10.4f\n", "x_sim",      mean(x_sim),      sd(x_sim),      skewness(x_sim),      kurtosis(x_sim)
